@page "/Basket"

@inject IBasketService _basket

@if(items is null)
{
    <h1>There is no items in your basket.</h1>
}
else
{
    @foreach (var item in items)
    {
        <div class="card mb-2">
            <p>Id: @item.ProductId.Substring(0,8)</p>
            <p>Price: @item.Price</p>
            <p>Quantity: @item.Quantity</p>
        </div>
    }
}

@code {
    private List<BasketItemModel> items = new();

    protected override async Task OnInitializedAsync()
    {
        items = await _basket.GetBasketItems();
        StateHasChanged();
    }
}
